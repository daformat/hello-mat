@use "./palette.scss";

@mixin light-theme {
  --color-background: #{palette.$light-desert-sky-1};
  --color-logo: #{palette.$light-ivory-2};
  --color-logo-hover: #{palette.$light-ivory-3};

  --color-toolbar-background: #{rgba(palette.$light-desert-sky-2, 1)};
  --color-toolbar-button-background: transparent;
  --color-toolbar-button-color: #{palette.$light-ivory-5};
  --color-toolbar-button-color-alt: #{palette.$light-ivory-4};
  --color-toolbar-button-background-hover: #{palette.$light-desert-sky-4};
  --color-toolbar-button-color-hover: #{palette.$light-ivory-3};
  --color-toolbar-button-background-active: #{palette.$light-desert-sky-3};
  --color-toolbar-button-color-active: #{palette.$light-ivory-2};

  --color-shadow-1: rgba(32, 27, 33, 0.05);
  --color-shadow-2: rgba(32, 27, 33, 0.025);

  --color-border-1: #{rgba(#fff, 0.6)};
  --color-border-1-hover: #{rgba(#fff, 0.9)};
  --color-border-2: #{rgba(#fff, 0.001)};
  --color-border-3: #{rgba(palette.$light-ivory-4, 0.25)};

  --text-primary: #{palette.$light-ivory-3};
  --text-primary-hover: #{palette.$light-ivory-2};
  --text-secondary: #{palette.$light-ivory-2};
  --text-secondary-hover: #{palette.$light-ivory-1};

  --color-bullet: #{palette.$light-ivory-5};
  --color-bullet-focus: #{palette.$light-ivory-3};

  --color-code-background: #{rgba(palette.$light-desert-sky-2, 0.75)};
  --color-card-background: #{rgba(palette.$light-desert-sky-2, 0.75)};
  --color-card-background-flat: #{mix(
      palette.$light-desert-sky-1,
      palette.$light-desert-sky-2,
      25%
    )};
  --color-card-background-secondary: #{rgba(palette.$light-desert-sky-2, 0.5)};
  --color-card-background-tertiary: #{rgba(palette.$light-desert-sky-2, 0.9)};

  --color-link: var(--text-primary-hover);
  --color-link-hover: var(--text-secondary-hover);
  --color-link-underline: var(--text-primary-hover);

  --color-empty: #{rgba(palette.$light-ivory-5, 0.25)};

  // standalone components
  --color-slider-bg: #{palette.$light-ivory-5};
  --color-slider-value: #{palette.$light-desert-sky-4};

  --color-toc-dash: #{palette.$light-ivory-3};
  --color-toc-link: #{palette.$light-ivory-3};
  --color-toc-link-active: #{palette.$light-ivory-1};

  --media-controls-hover: var(--color-link-hover);
  --color-placeholder-icon: #{palette.$light-ivory-3};

  --color-dropdown-background: var(--color-toolbar-background);
  --color-dropdown-hover: #{rgba(palette.$light-ivory-2, 0.05)};
  --color-dropdown-active: #{rgba(palette.$light-ivory-2, 0.1)};
  --color-shadow-10: #{rgba(palette.$light-shadow, 0.05)};
  --color-shadow-20: #{rgba(palette.$light-shadow, 0.1)};
}

@mixin dark-theme {
  --color-background: #{palette.$dark-desert-sky-1};
  --color-logo: #{palette.$dark-ivory-3};
  --color-logo-hover: #{palette.$dark-ivory-2};

  --color-toolbar-background: #{palette.$dark-desert-sky-2};
  --color-toolbar-button-background: transparent;
  --color-toolbar-button-color: #{palette.$dark-ivory-5};
  --color-toolbar-button-color-alt: #{palette.$dark-ivory-4};
  --color-toolbar-button-background-hover: #{palette.$dark-desert-sky-3};
  --color-toolbar-button-color-hover: #{palette.$dark-ivory-3};
  --color-toolbar-button-background-active: #{palette.$dark-desert-sky-4};
  --color-toolbar-button-color-active: #{palette.$dark-ivory-2};

  --color-shadow-1: rgba(0, 0, 0, 0.08);
  --color-shadow-2: rgba(0, 0, 0, 0.04);

  --color-border-1: #{rgba(palette.$dark-desert-sky-4, 0.75)};
  --color-border-1-hover: #{rgba(palette.$dark-ivory-3, 0.25)};
  --color-border-2: #{rgba(palette.$dark-desert-sky-3, 0.15)};
  --color-border-3: #{rgba(palette.$dark-desert-sky-3, 1)};

  --text-primary: #{palette.$dark-ivory-3};
  --text-primary-hover: #{palette.$dark-ivory-2};
  --text-secondary: #{palette.$dark-ivory-2};
  --text-secondary-hover: #{palette.$dark-ivory-1};

  --color-bullet: #{palette.$dark-ivory-5};
  --color-bullet-focus: #{palette.$dark-ivory-3};

  --color-code-background: #{rgba(palette.$dark-desert-sky-3, 0.75)};
  --color-card-background: #{rgba(palette.$dark-desert-sky-3, 0.25)};
  --color-card-background-flat: #{mix(
      palette.$dark-desert-sky-1,
      palette.$dark-desert-sky-3,
      75%
    )};
  --color-card-background-secondary: #{rgba(palette.$dark-desert-sky-3, 0.1)};
  --color-card-background-tertiary: #{rgba(palette.$dark-desert-sky-3, 0.5)};

  --color-link: var(--text-primary-hover);
  --color-link-hover: var(--text-secondary-hover);
  --color-link-underline: var(--text-primary-hover);

  --color-empty: #{rgba(palette.$dark-desert-sky-3, 0.5)};

  // standalone components
  --color-slider-bg: #{palette.$dark-desert-sky-4};
  --color-slider-value: #{palette.$dark-ivory-4};

  --color-toc-dash: #{palette.$dark-ivory-3};
  --color-toc-link: #{palette.$dark-ivory-3};
  --color-toc-link-active: #{palette.$dark-ivory-1};

  --media-controls-hover: var(--color-link-hover);
  --color-placeholder-icon: #{palette.$dark-ivory-3};

  --color-dropdown-background: var(--color-toolbar-background);
  --color-dropdown-hover: #{rgba(palette.$dark-ivory-4, 0.15)};
  --color-dropdown-active: #{palette.$dark-ivory-5};
  --color-shadow-10: #{rgba(palette.$dark-shadow, 0.25)};
  --color-shadow-20: #{rgba(palette.$dark-shadow, 0.5)};
}

:root {
  @include light-theme();
}

@media (prefers-color-scheme: dark) {
  :root {
    @include dark-theme();

    html {
      color-scheme: dark;
    }
  }
}
